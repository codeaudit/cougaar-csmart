<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <title>Adaptivity Support Recipe</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#800080">

<h1>Adaptivity Support Recipe</h1>
Adaptivity Support Recipes allow users to insert Adaptivity Support
in any society at the set of places indicated by a database query. 
In particular, it adds the following plugins:<br>
<code>org.cougaar.core.adaptivity.AdaptivityEngine</code>
<code>org.cougaar.core.adaptivity.ConditionServiceProvider</code>
<code>org.cougaar.core.adaptivity.OperatingModeServiceProvider</code>
<code>org.cougaar.core.adaptivity.OperatingModePolicyManager</code>
<code>org.cougaar.core.adaptivity.PlaybookManager(&lt;plays file&gt;)</code><br>
- where you must have put the Plays file with that name on all
relevant machines, in a location on the
<code>org.cougaar.config.path</code>. See below for details.<br>
<br>
And finally, this recipe can optionally include the <code>AEViewerServlet</code>, using the
parameter described below.
Note that this recipe does not add the <code>PolicyInjectorPlugin</code>.<br><br>

An Adaptivity Support Recipe contains the following parameters:<br>
    <h2>Component Fields</h2>
    <table width="400">
	<tr>
	  <td><b>Name</b></td>
	  <td><b>Type</b></td>
	  <td><b>Range</b></td>
	</tr>
	<tr>
	  <td><a href="#TARGET_QUERY">Target Component Selection Query</a></td>
	  <td>String</td>
	  <td></td>
	</tr>
	<tr>
	  <td><a href="#PLAYS">Playbook File</a></td>
	  <td>String</td>
	  <td>Name of file of plays to provide to Playbook Manager</td>
	</tr>
	<tr>
	  <td><a href="#SERVLET">AEViewerServlet</a></td>
	  <td>Boolean</td>
	  <td>Indicate if the insertion should also include the AEViewServlet.</td>
	</tr>
    </table>  
    <br><br>

Creating an Adaptivity Support is an easy way to quickly add Adaptivity to
your agents.
<br><br>

<a name="TARGET_QUERY"><h3>Target Component Selection Query</h3></a>
Specifies a defined query in a .q file.  This query is used to
selected the exact components that should be modified with this
recipe. Base, sample queries are in
CIP/csmart/data/common/PopulateDb.q<br>
Users should create their own queries in a file called
"recipeQueries.q", which should be placed someplace on the Cougaar
Config Path: in the directory from which you run CSMART, or in
CIP/csmart/data/common or CIP/configs/common, for example.<br>
<em>IMPORTANT: All recipes query names must begin with "recipeQuery"!</em><br>

<a name="PLAYS"><h3>Playbook File</h3></a>
This property specifies the file that will contain plays for the
Adaptivity Engine. 
The named file must be on all relevant machines, in a location on the
<code>org.cougaar.config.path</code>. The name of the plays file is as
specified in the Property. However, if the name you specify (as in the
default) includes the special string "&lt;agent&gt;", then each Agent
will use a different playbook file, whose name contains the Agent
name. For example, if this recipe were added to the NCA agent with the
default value for the Plays file name, the entry for the playbook
manager in that agent would be:
<code>org.cougaar.core.adaptivity.PlaybookManager(NCA-plays.txt)</code>.<br>

<a name="SERVLET"><h3>AEViewerServlet</h3></a>
The AEViewerServlet is used for debugging the Adaptivity Support within an
Agent. This property allows you to optionally include this servlet
(<code>org.cougaar.core.adaptivity.AEViewerServlet</code>) in your
society. It will run at the URI: <code>/aeviewer</code><br>

</body>
</html>