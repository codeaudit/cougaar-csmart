<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>CSMART Experiment Builder Help</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#800080">

<h2>Experiment Builder</h2>
Use this tool to build an Experiment from a pre-defined Experiment in
a database, and zero or more Recipes. In particular, use this tool to
allocate Agents across available Hosts, and set run-time command line
arguments.<br><br>
This tool may be opened in View only mode. In this case
the user may not modify the current experiment configuration, but may
view the current settings. Menus that support modifying the experiment will be greyed out.<br><br>
Recipes modify the behavior of the Society in the Experiment in various ways (collect run-time statistics, add simulated behaviors, etc).  
To add a Recipe to your Experiment, create the Recipe in your workspace organizer,
and drag it into the Recipes folder in the Experiment Builder. 
Note that all 
changes to your experiment are saved automatically in your workspace
and in the database. Since experiment definitions are saved in the
database, they may be easily re-used later from other client
machines.<br><br>
Note that when you exit the Experiment Builder, your changes to the
experiment are saved to the database. Societies are run from the
database only. Therefore, you must save all your changes to the
database before running the society for them to have any
effect. Therefore, editing an Experiment that is currently running has
no effect on the running society.
<h2>Recipes</h2>
An experiment can contain any number of recipes.  Recipes are defined modifications
to a society, and will be applied in the order in which they
are listed under the Recipes folder. (You may re-order them.) By default, a recipe to include
all basic servlets is included in experiments from the database, but
users may remove this recipe and include any other they prefer.  Note however, that some servlets support the Society Monitor; removing these servlets will make it impossible for the Society Monitor to collect information from the society blackboard.

<h3>Component Recipes</h3>
Component Recipes provide the ability to add a new component to a specific set
of agents within a society.  For more information on Component Recipes,
see the documentation for a specific Component Recipe (Specific Insertion, Agent Insertion, Servlet Group Insertion, etc.).
<h3>Impact Recipes</h3>
Use the Experiment Builder to include a set of simulated external impacts
in your experiment. To do so, create a new ABC Impact in the workspace
organizer, and drag it into the Recipes folder. 
For details on the ABC Impact external impacts, and creating your own
external impacts, see the Users' Guide.
<h3>Metrics Recipes</h3>
Using the Experiment Builder, CSMART users will be able to specify the
exact set of run-time performance measurements which they wish to collect
during their experiment, when to collect them, and from which points in
their society. By metrics, we mean such performance-related statistics
as CPU usage, memory utilization, bandwidth usage, Tasks propagated, etc.
Typically, these statistics come from the core Metrics Service. In future,
they will also come from the QuO run-time kernel service, or other user-specified
sources.
<br><br>As the society runs, these metrics are typically recorded in results
files (one per agent). Use the <a href="../analyzer/help.html">Performance Analyzer</a> to retrieve these results files for client-side analysis.
As the society runs, periodic statistic snapshots
are collected, and written to a tab separated value text file (one file
per agent). See <a href="../../societies/abcsociety/basic-metric-help.html">Basic Metric Help</a> for detailed metrics collection information.
<br>&nbsp;
<h3>Using the Experiment Builder</h3>
The following explains the usage of each of the tabbed panes:
<h4>Properties</h4>
To include a Recipe in your Experiment, create a Recipe in your 
workspace organizer and drag it into the Recipes folder in the tree.
To delete an item in the tree, position the mouse over the item and click the
right mouse button; a pop-up window will be displayed allowing you to delete
the item, or, for a folder, to delete all the items in the folder. Drag and drop recipes within the Recipes folder to change the order in which they are applied.
<h4>Configurations</h4>
The configuration of Hosts, Unassigned Nodes, and Unassigned Agents
can be modified using File menu items, pop-up menus or by drag-and-drop. Agents can be dropped
on nodes; nodes can be dropped on hosts. Create, delete, and rename hosts
and nodes by using the appropriate File menu option, or right clicking on a host or node to display a pop-up menu
with these options. Agents are created by Societies or Recipes and cannot be created,
deleted or renamed in the Experiment Builder. Unassigned Agents are
agents not yet assigned to a node.

<ol>
<li>
In the Hosts tree, create an entry for each host to be used in the experiment.
An entry for a host can be created:

<ul>
<li>
By adding the host name to the hosts.txt file in the directory from which
CSMART is launched, or</li>

<li>
By clicking the right mouse button over the "Hosts" folder.
A pop-up menu is displayed; select "New Host" from this menu.
A pop-up dialog is displayed in which to enter the name of the host. The same command is available from a File menu item.</li>

<li>
Note that hosts named "localhost", or host names that do not include the
full domain name (ie cougaar.org), sometimes fail (due to an RMI bug).
The error message:<br>

<pre>!Waiting for //127.0.0.1:8888/NameService!.!.!.</pre>
usually indicates a problem in specifying the host name. Try using an IP address or fully qualified
host name.</li></ul></li>

<li>
Create a node or nodes for each host to be used in the experiment. The full set of Node names defined in the Experiment is displayed in the unassigned window by default.  You may use one of these, or create a new one.  For a new Node name, use the File menu item, or click
the right mouse button over the host folder in the "Hosts" tree, and select
"New Node" from the menu. A pop-up dialog is displayed in which to enter
the name of the node.</li>

<li>
Assign agents to nodes. Drag and drop agents from the "Unassigned Agents"
tree to the nodes created in the previous step. To select a group of agents,
left click on the first agent to select, and shift left click on the last
agent.</li>
</ol>
<p>
 Using the pop-up or File menus, additional information can be added to the
 host and node. This information includes: Host Description, Host
 Type, Host Location, Node Description, Global Command Line Arguments,
 and Command Line Arguments. This information can be displayed using
 the Info menu item on the Node menu in the Node window in the
 Experiment Controller.
</p>
<p>
 Some of this information is for the convenience of the user; it does
 not affect running the experiment. The command line arguments,
 however, are passed as -D options and command line arguments to the
 node when it is run and so directly affect how the nodes of the
 society are run. CSMART sets a number of such arguments by default.
 See the Cougaar documentation for an explanation of these values, and
 a list of other possible arguments. The global command line and
 command line values both
 affect running the nodes of the society. Each node receives a
 combination of the global command line values and its own command
 line values. The node command line values override the global
 ones. Command line arguments set here will over-ride or augment any
 values specified in the AppServer properties files (server.props).
 A few -D arguments are not editable.
</p>
There are a number of other File menu options for further configuring
your Experiment. In particular, note the "Save" and "Save As" options
for ensuring your experiment changes are saved to the database. For
debugging the configuration of your experiment, you may use the
debugging File menu option to generate "ini" style configuration
files. This option generates a complete society specification in old
style configuration files. All information written here reflects what
will be run when the Nodes are created from the database. However
these files are not supported for running a society.<br>
<h4>Threads</h4>
<p>
This tab displays the settings for Threads and Groups in this
Experiment.  These were set in an earler dialog when the Experiment
was created, and cannot be edited here.

</p>
<!-- hhmts start --> Last modified: Wed Feb 13
15:21:44 EST 2002 <!-- hhmts end -->

</body>
</html>
