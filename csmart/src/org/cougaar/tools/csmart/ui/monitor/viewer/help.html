<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.76 [en] (WinNT; U) [Netscape]">
   <title>CSMART Society Monitor Help</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#800080">

<h2>Society Monitor</h2>
The Society Monitor displays the activities and data associated with a
distributed running Cougaar society. This data is obtained by collecting
information from the contents of each agent's Blackboard, or from the results
of specific metrics collection Plugins (or by loading saved graph or metrics
data). This tool allows users to monitor any currently running Cougaar
society or to view graphs saved from previous experiments.
<p>Views within this tool communicate via the standard Servlet interface with
a running society. When running under CSMART, if a single experiment is being run, then the Society Monitor automatically contacts the society
in the running experiment. If running multiple experiments, CSMART queries
the user to select an experiment to monitor.
When running standalone, the user is prompted
for a URL in the running society. To run the Society Monitor in stand-alone
mode, ensure that the CSMART Servlets are included in your Agent's
configuration (database or INI files)
in each agent of your society. Then use one of the included
Monitor scripts to start the Society Monitor. This is also the easiest
way to open saved graphs. Note that the Society Monitor uses the AT&amp;T
GraphViz package for graph layout &amp; rendering. This package minimizes
distance between linked nodes, and minimizes link overlap. It does not
include any other factors in graph layout.
<p>The Society Monitor provides the following displays:
<ul>
<li>
<b>Community: </b>The communities in the society, if specified. </li>

<li>
<b>Agents: </b>The agents in the society and their relationships to each
other.</li>

<li>
<b>Plan: </b>The plan objects in the society, including Assets, Workflows,
Tasks, Allocations, Dispositions, Asset Transfers, Aggregations, and Expansions.</li>

<li>
<b>Thread: </b>Drill down on the whole plan, and display only objects related
to a single plan object.</li>

<li>
<b>Metrics</b>: Show one (potentially many) calculated graphs of society
activity.</li>

<br>&nbsp;</ul>
When first launching a tool, if not running from CSMART, you are prompted
for the URL of the society to contact. Supply the appropriate host and
port number, just as you would for any Servlet (see the settings in
your Server properties or alpreg.ini
file). You may launch as many different views as you wish. In future, you
will be able to use the selection in one tool to drive your view in another.
When launching the plan view, you are prompted to filter your query.
<p><b>Society Monitor Menus</b>
<br>From the Society Monitor main display, you may launch one of the views,
or load a saved data set, using the following menu items.
<ul>
<li>
File: Create new graphs, save graphs, and exit.</li>

<ul>
<li>
New: Create a new Community, Agents, Plan or Thread graph or a new Metrics display. This duplicates the functionality
available on the tool bar buttons.</li>

<li>
Open: Read and display a previously saved graph or metric.</li>

<li>
Exit: Exit the Society Monitor.</li>
</ul>

<li>
Help: Display help information in a browser.</li>
</ul>
All graphs provide the following functionality:
<ul>
<li>
Display Attributes: Double click on a node to display its attributes (this
is the same as selecting the node and then selecting the View-Attributes
menu item). This shows some attributes of the plan object, community, or
agent. The set of attributes displayed is a sub-set of all those possible.
This set may in future be tunable. Feedback on useful current attributes
to show is appreciated.</li>

<li>
Selection: Left click on a node or edge (link between nodes) to select
it. Left hold and drag to select all nodes and edges in an area. Control-left
click to add or remove a node or edge from the selected nodes. Selecting
items in the Overview window causes the main window to scroll to display
the selection. By selecting items in a graph, you may then create a new
graph with that selection, or access certain other relative views.</li>

<li>
Find Node: The Find button in the Attributes table window scrolls the graph
so that the node whose attributes are displayed, is visible.</li>

<li>
Overview: Show an overview of the entire graph. By clicking on the graph,
the main graph window is scrolled to that area.</li>

<li>
Legend: Show a key of the meaning of the different colors and shapes of
the nodes on the graph. See the User's Guide.</li>

<li>
Find: Find a particular node by some criteria. Currently this is very simple,
but will be expanded.</li>

<li>
Filter: Filter the graph to show a sub-graph, using some criteria. Currently
the filtering possibilities are limited. See below, under the Plan View,
for details on how the filtering works.</li>

<li>
Zoom: Zoom in or out on the graph as displayed.</li>

<li>
Save: Any graph or metric may be saved for future analysis.</li>
</ul>

<p><br><b>Graph Menus</b>
<br>These are menus common to all the graph displays, unless otherwise indicated:
<ul>
<li>
File:</li>

<ul>
<li>
New With Selection: Create a new graph containing the selected nodes and
their edges.</li>

<li>
Save: Save the graph in the current file.</li>

<li>
Save As...: Save the graph in a new file. A file chooser dialog is displayed
to allow the user to specify the file.</li>

<li>
Print...: Print the visible portion of the graph.</li>

<li>
Close: Destroy the view.</li>
</ul>

<li>
Select:</li>

<ul>
<li>
Find...: Select a node by its UID from a list in a pop-up dialog. Highlight
the node and scroll the graph so that the node is displayed.</li>

<li>
Find Plan Objects: Select a plan object by criteria such as agent name and
object type; available only in Plan and Thread graphs.

<li>
Filter...: Filter plan objects by community and type. Implemented only
for plan object graphs.</li>

<li>
Select All: Select (highlight) all the nodes and links.</li>

<li>
Clear: Clear the selection.</li>
</ul>

<li>
Show:</li>

<ul>
<li>
Show information specific to the nodes selected. Show menus are specific
to the type of graph displayed; see the help information for a specific
graph.</li>
</ul>

<li>
View:</li>

<ul>
<li>
Overview: Display a "bird's eye view" of the graph. Displays the graph
in a new window, scaled so that all the nodes are visible.</li>

<li>
Attributes: Display the attributes of the selected node in a table in a
new window.</li>

<li>
Legend: Display a legend which describes the colors and shapes used in
the graph.</li>

<li>
Ancestor Thread: Display a thread graph starting with the selected object and
tracing its parents; available only in Plan and Thread graphs.</li>

<li>
Descendant Thread: Display a thread graph starting with the selected object and
tracing its children; available only in Plan and Thread graphs.</li>

<li>
Zoom In: Zoom in to show more detail.</li>

<li>
Zoom Out: Zoom out to show less detail.</li>

<li>
Zoom Reset: Reset the zoom level to display the original graph.</li>

<li>
Scroll to Selection: Scroll the graph so that the selected nodes are visible.</li>
</ul>

<li>
Help:</li>

<ul>
<li>
Display this document.</li>
</ul>
</ul>
<b>Additional Functionality</b>
<br>In addition to the functionality provided by the menus described above,
all graphs provide the following functionality.
<ul>
<li>
Display Attributes: Double click on a node to display its attributes (this
is the same as selecting the node and then selecting the View-Attributes
menu item).</li>

<li>
Selection: Left click on a node or edge (link between nodes) to select
it. Left hold and drag to select all nodes and edges in an area. Control-left
click to add or remove a node or edge from the selected nodes. Selecting
items in the Overview window causes the main window to scroll to display
the selection.</li>

<li>
Find Node: The Find button in the Attributes table window scrolls the graph
so that the node whose attributes are displayed, is visible.</li>
</ul>



<b>Agents</b>
<p>The Society Monitor's Agents View displays the agents in a running Cougaar society. Each agent is labeled with its nomenclature. It is linked to every other agent with which it has a relationship. Agents are laid out top-to-bottom. You may produce new graphs showing only selected relationships, from the File menu. Alternatively, given a selected agent, you can highlight those agents with which that agent has a given relationship.

As with all graph views, a Legend indicates the color scheme. Additionally, each node has a set of attributes of the organization available (displayed by double-clicking or from the View menu when an agent is selected).
 
This view has a menu with the following commands:
<ul>
<li>File: Relationships...: Display relationships for the selected nodes in a new window. Select the relationship, such as Superior/Subordinate or Customer/Provider from a pull-right menu. To see all the relationships for the society, first select all the nodes (using the Select->Select All menu item).</li>
<li>Show: Show a specific relationship (selected from the Show menu) for the selected nodes. This is most useful for displaying relationships for a single selected node. The related nodes are highlighted in yellow (for Subordinates and Customers) or blue (for Superiors and Providers).</li>
<li>Show: Clear: Clear the blue and/or yellow highlighting used to display relationships.</li>
</ul>

<b>Community</b>
<p>This shows the communities in a running society, with their relationships (the sum of the relationships of their agents).</p>

<b>Plan</b>
<p>
The Plan View is the most detailed monitoring tool available. It can potentially return every object in the distributed Cougaar blackboard, and show the relationships among these objects. For developers, and for truly understanding a particular interaction or result, this is the most powerful view. 
</p>

<b>Plan Filtering</b>
<br>
The Plan view often returns too much information (both to be useful, and to be handled comfortably by the client machine). Therefore, users typically filter their query by object type.  In addition, users can limit the number of objects returned (recommended). Currently, users may choose to hide or ignore certain plan object types. Note that by "Hide"-ing an object type, it is still retrieved and processed, merely not drawn. The transitive closure of the links between nodes is drawn, with the edge shown thicker and darker as a reminder of the missing nodes. When ignoring objects, they are not retrieved from the agent at all. Therefore, for efficiency purposes, ignoring some object types is usually more useful. 
<br>
<br>
<b>Plan Legend</b>
<br>
Nodes in the plan view are color coded, according to the agent from which they were retrieved. Although this means that colors may be re-used, it does allow the user to quickly identify when processing moves from one agent to another. For details on which color indicates which agent, view the legend (from the "View" menu).
Nodes are also different shapes, to indicate different object types. Again, look at the legend for details.
Note that the plan view is laid out left to right, following the arrows from Tasks to Plan Elements and on down. These links are solely causal, and are drawn to minimize link length and crossing, and do not take into account time or any other factor.

<br>
<br>
<b>Thread</b>
<p>
The Thread View is a filtered version of the Plan View. By selecting a particular node (from a Plan View or other Thread View), you may query up ("Ancestor") or down ("Descendant") its causal chain, using commands in the View menu. This produces a new plan graph, with only the requested objects.
When viewing an ancestor thread, only parent Tasks are displayed. When viewing a descendant thread, all objects that can be reached by following links are displayed.
 
The Thread view can be used to answer the following questions:
<ul>
<li>How was this Task satisfied?</li>
<li>Who participated in the solution for this Task?</li>
<li>What are the requirements associated with this Task?</li>
<li>Who generated the requirements for this Task?</li>
</ul>
</p>

<b>Display Attributes</b>
<br> 
For each node in one of the graph views, double-clicking on the node retrieves a set of attributes for that object. These are a sub-set of the attributes available from the Blackboard. Note that the "Find" button on this window will scroll the main graph to the appropriate node.

<h2>
Notes:</h2>
If the Society Monitor is unable to contact a running society, confirm
that these CSMART Servlets are loaded:
<ul>
<li>plugin =
org.cougaar.core.servlet.SimpleServletComponent(org.cougaar.tools.csmart.ui.servlet.PlanServlet,
/CSMART_PlanServlet)</li>
<li>plugin = org.cougaar.core.servlet.SimpleServletComponent(org.cougaar.tools.csmart.ui.servlet.CommunityProviderServlet, /CSMART_CommunityProviderServlet)
</li>
<li>plugin = org.cougaar.core.servlet.SimpleServletComponent(org.cougaar.tools.csmart.ui.servlet.AgentInfoServlet, /CSMART_AgentInfoServlet)
</li>
<li>plugin = org.cougaar.core.servlet.SimpleServletComponent(org.cougaar.tools.csmart.ui.servlet.MetricsServlet, /CSMART_MetricsServlet)
</li>
<li>plugin = org.cougaar.core.servlet.SimpleServletComponent(org.cougaar.tools.csmart.ui.servlet.SearchServlet, /CSMART_SearchServlet)
</li>
</ul>

<br><br>
<!-- hhmts start -->
Last modified: Wed Feb 13 15:39:45 EST 2002
<!-- hhmts end -->
</body>
</html>
