CSMART Release Notes

Release 9.4.1:
This release includes bug fixes and feature enhancements to support UL
fall integration not available in time for the 9.4 release.

- Renamed mysqldump.9.2.txt to mysqldump.txt (the content has not
  changed).
- If CSMART crashes, and you were using the workspace file, bring
  components back as fully editable and usable as possible.
- When renaming a Recipe, change only the name in the database rather
  than save an entirely new recipe under the new name.
- Forbid adding a recipe to an Experiment twice.
- Forbid adding two Agents with the same name to an Experiment via
  recipes. Note that no Node in your society may have the same name as
  an Agent in your society, as Nodes have a Node Agent whose name is
  that of the Node.
- When configuring a Society from scratch in the Configuration
  Builder, give the user an editable drop-down of all known Plugins or
  Binders in the database, not just those in the Society so far (bug 1443).
- Adding aditional servlets is no longer possible via the Servlet Insertion Recipe.
  To add additional servlets, use the Specific Insertion Recipe. (Bug
  1521)
- Experiment export scripts now export communities correctly (bug 1563).
- Added a new recipe "Complete Agent" that allows the creation of a Agent(s)
  including all plugins, relationships and asset data in one GUI
  configurable recipe.
- Unsupported feature: INI files dumped from the Experiment Builder
  now _may_ be runnable, with one small edit. You must edit the Agent
  INI file that contains the GLSInitServlet, usually named
  "NCA". Follow the instructions in the comment. Note however that you
  must have previously saved your Experiment to the database. Again,
  this functionality is not fully supported.

Release 9.4:
This release constitues the last major Cougaar release for this
calendar year.  This release includes some database schema changes,
and a new communities editing tool. It also includes numerous
usability improvements, and incorporates all of the changes made after
the official 9.2.2 patch release along that branch (see the
9.2.2.1 release notes, below). In particular,
this includes the new ability to export to XML the host-node-agent
(HNA) mapping for an experiment, for preservation when upgrading or
re-loading a CSMART database for example, and then re-importing
(without having to explicitly re-assign Agents to Nodes, etc).

In detail:
- Domain database has been updated. To get the latest data, reload the
  mysqldump.txt file (found in dbmsq/data/mysql), using a command like:
mysql -f -u [user] -p[pw] [db] < mysqldump.txt
- Configuration database schema has changed. To support the UL
  Adaptive Logistics thread, the configuration CFW database now supports
  multiple plugins of the same class in the same Agent. If you plan to
  run the Adaptive Logistics society, you must re-load your
  configuration database, following the instructions in
  InstallAndTest.html
- New Communities editing window. This window allows users to easily
  create new Communities with arbitrary attributes, and add Agents (or
  Communities) to those Communities, with arbitrary attributes. All
  community data is stored on a per-experiment basis, and loaded at
  run-time using the standard DBInitializer. To use this editor,
  select the "Communities" tab in the Experiment Builder.
- Force Agent Insertion recipes to always include an Org Asset. This
  way, all non-Node Agents appear in the CSMART Society Monitor. (bug
  1446)
- Now deleted or renamed queries in recipeQueries.q are
  reflected in the recipe query drop-down and at save time. Note that,
  as before, if you remove a query, any recipes that used it will not be
  invalid and need to be both modified and re-saved. (bug 1428)
- Changed label for using built-in recipes to say "From
  Template" for clarity - no functionality changed. (bug 1469)
- Added the CommunityPlugin to all regular Agents in base 1AD CSMART
  Experiments. You no longer need to add it to your domain Agents. However, you
  must still add it to any NodeAgents or newly added Agents where you
  want to do community work.
- In addition, note that the default configs/common/LDMDomains.ini now
  loads the Community Domain, so no recipe is required to do so.
- Added standard Mobility support. The mobility domain is also now
  included in LDMDomains.in. The MoveAgentServlet is now part of the
  Default_Servlets recipe that comes with base experiments (labeled MobilityServlet). Note that if
  you want this servlet available in NodeAgents you must separately add
  it there, or change the target query in the Default_Servlets
  recipe. Finally, there are two other default recipes now included in
  experiments for adding the other two required mobility
  components. These are the NodeMobilityPlugin and the
  AgentMobilityPlugin recipes. Most users need not modify these
  recipes.
- If a drop-down list is open (ie in the Configuration
  Builder) and you kill that window, you get an NPE. This appears to be
  a JDK bug, and will be logged as a warning. (bug 1439)
- Changed the default Console Node view size to 300,000 characters
  (from 50,000). Bug 1309.
- CSMART code was modified to correctly handle various database IDs. (bug
  1465). This solves the "duplicate plugin" problem for the UL
  Adaptive Logistics team.
- Bug 1504: Made persistence.clear=true a default Node argument. Users
  may now modify this if they _want_ to use old persistence
  information. Otherwise, behavior is as before: CSMART clears old
  persistence information before starting a new run. Note however that
  the Node->Restart functionality from the CSMART Console will use saved
  persistence information to start up the Node from where it left off.
- Bug 1524: Default results directory if not set so HNA exports in
  same place.
- Bug 1494: Display correct Agent's contents in Console Node info screen.
- Bug 533: Improved javadoc to include @property tags.
- Bug 789: Added the Cougaar javadoc Parameters.html to the Experiment
  Builder Help menu for ideas on some Node Properties to set.
- The Host Configuration Builder is now laid out horizontally, for ease of use
  (bug 1447).
- Bug 1441: Restricted recipe arguments that need to be positive to a
  positive range.
- Bug 1474 (partial fix): Allow Nodes and Hosts to have same name, but
  not Nodes and Agents.
- Bug 1446: Included the JDBC URL for the CSMART DB in the version
  information printed on error and at startup. And re-enable it on the
  Help menu under Show Version.
- Bug 1414: Dis-allow creating new recipes, etc inside experiments, etc.
- Avoid NPE when doing drag-n-drop (bug 1456).
- Bug 1464: Ensure that components added via a recipe with a specific
  name do not conflict with components of same class in the database.
- Fix an unreported bug causing NPEs on reading a non-Default
  workspace file.
- Bug 1377: Sort Servlet recipe property names to help avoid
  errors. Properties now have an invisible flag, used to avoid
  displaying invisible properties usually. Add a method however to get
  at invisible properties. This allows copying, saving, & restoring
  sometimes-invisible properties to work, avoiding the errors.
- Bug 950: Make exported Recipe IDs include recipe name, to ensure
  uniqueness
- Bug 1401: Change a primary key to a unique key, to avoid possible
  corrupted MySQL index files.
- Small changes to ComponentBase to avoid society / experiments
  becoming modified during a copy.

Release 9.2.2.1:
This point release along the 9.2.2 branch includes some last minute
additions for the June Ultra*Log integration. Changes include:
- Bug 1363: Allow user to export an Experiment's Host-Node-Agent
  mapping to an XML file, from a menu item in the Experiment
  Builder. This file can then be imported, also from the File menu, on
  later new experiments (even after reconstructing the CSMART DB). All
  Agents that exist in the experiment on import, will be assigned to
  Nodes with the names in the XML file (creating new Nodes if
  necessary), and similarly Nodes will be assigned to Hosts (creating
  new Hosts if necessary). Note that only the Host-Node-Agent mapping
  is exported, not the -D arguments or the components in any of the Nodes.
- Bug 950 (partial fix): Exported recipes now include the recipe name
  as part of the ID, to ensure uniqueness.
- Bug 1351: Read components in insertion order from DB, to ensure
  specified load order is preserved.
- Bug 1428: The drop-down list of recipe queries when configuring a
  recipe now refreshes to add new queries added to your
  recipeQueries.q file while running CSMART. Note that deleted /
  renamed queries will still appear, as they are still available for
  use by recipes during this run of CSMART.
- Bug 1364 (partial fix): Add Dos version of recipe export script
  (export-recipe.bat)
- Bug 1399: Node Info window, when you click on the agent name, now
  shows you _all_ sub-components, not just Plugins.
- Bug 1387: Allow ComponentTypeProperty to accept any component type
  (aka insertion point). This fixes the bug that prevented
  SpecificInsertionRecipes from adding components at non-standard
  insertion points.
- Bug 1396: Disable the un-used ImpactsLP in the CSMARTDomain. By
  disabling it, we avoid using the CSMART logger un-necessarily.
- Bug 1457: Allow Nodes to contain non-Agents when dumping HNA maps to XML.
- Bug 1408: Remove setPreferredSize call so scroll bars in Properties
  pane of Experiment Builder work again.
- Bug 1377: Copying / saving AgentInsertionRecipe without an OrgAsset
  or ServletGroupInsertionRecipe with an extra servlet added caused
  NPEs. This fix avoids those errors, without however solving the
  underlying problem. You are currently forbidden from creating an
  Agent through an AgentInsertionRecipe without including an
  OrgAsset. You are similarly forbidden from adding non-standard
  servlets using the ServletGroupInsertion Recipe.

Release 9.2.2:
- Solved bug 1304 & related 1279. Note that now that this is solved, we 
  have reverted the default for doWorkspace! By default, the workspace
  is no re-enabled. As before, the startup scripts indicate how to
  disable this.
- Added support for specifying component load priority (bug 1310).
- Added new Topology view in Society Monitor for viewing mobile
  Agents.
- Added new built-in recipe for adding the Adaptivity Engine and
  related components to a set of Agents. For details on the Adaptivity
  Engine, see the Cougaar Developers Guide. For details on using this
  recipe, see the online help.
- Upgrade MySQL JDBC driver (bug 1347)
- Mostly fixed errors with database load scripts. Windows users who
  retrieve CSMART via CVS or who want to edit the database files should
  use Cygwin and the sh load scripts. (bug 1321)
- Add icons for recipes, societies, and experiments in Organizer
- Unique names are now created with a number in square-brackets, not
  just by appending a number.
- Mostly fixed export scripts (bug 1231)
- Fixed bug 1323 (no prompt to name recipes)
- Fix some bugs with Property iterators, etc.
- Fix bugs allowing user to make edits during a save (bugs 1339,1078)
- Better error messages on failure to reach servlets (bug 1302)
- Fix bug in modification recognition (bug 1335)
- Fixed some bugs on when things are editable, runnable (bug 1326, others)
- Add file-menu option to save un-saved items

Release 9.2.1:
- Multiple bug fixes
- Note that changes to the default AppServer properties file to use
the Java "server" VM on some Nodes may require Path changes on some systems, when
you upgrade your AppServer properties file. See the Install
instructions (./InstallAndTest.html) for details.
- Add Community tables to CSMART DB to begin support for Community configuration
- Performance improvements (bug 1226)
- Allow running Nodes without any Agents (bug 1265)
- Address errors using Agent Insertion Recipes (bugs 1240, 1245)
- Add Dos DB dump scripts (bug 1229)
- Address servlet errors with GLS Init window (bug 1215) and Society
Monitor (bug 1241)
- New option to not read or write a Workspace file: Add the CSMART -D
argument org.cougaar.tools.csmart.doWorkspace=false to use this. Note
that this means you will have to re-load your Experiments and recipes
from the database every time you restart CSMART.
- Allow specifying $HOST in Node command line arguments to indicate
the name of the machine on which the Node will be running (bug 861)
- Address errors in enabling tools (bug 1268)
- Address errors auto-running societies (bug 1269)
- Address errors with non-unique folder names (bug 1267)
- Remove obsolete Heartbeat in console (bug 1247)
- Avoid double-counted warnings on recipe change (bug 1107)
- Disconnect GLS UI when society stops to avoid warning (bug 1055)
- Ensure possible to use Analyzer to view old Experiment results
- Use lower-case database table names throughout
- Remove unused database tables (bug 1225)
- Known issues: There are some rare NPEs (bugs 1304, 1279). To avoid
these, try setting the doWorkspace flag to false (see above). Some
elements of experiments are not copied - like Node descriptions, etc
(bug 1076). We have seen intermittent Swing exceptions while running a
society (bug 1104). Finally, command-line scripts to export/copy experiments &
recipes do not work (bugs 1231, 950).

Release 9.2:
- New ability to load societies from INI files
- New UIs to edit societies within CSMART
- Infrastructure support for recipes that do removal / modifications
- New ability to create a society from the recipe/society combination in an experiment
- Configuration database cleanup, and load process changes (see
InstallAndTest.html)
- Fixes to improve accuracy of debug output INI files
- Fix support for adding Node Binders with recipes
- Add support for adding plugins, binders to Node Agents via recipes
(try a SpecificInsertionRecipe where the target query specifies _Nodes_!)
- Add support for adding arbitrary components to agents
- Move to JDK1.4
- Bug fixes
- Known issue: CSMART is slow - multiple minutes to load & start a Full-1AD
  society. Improvements for this will be added for a 9.2.1 patch
  release in mid-May. See bug # 1226
- Known issue: Society Monitor fails to contact all Agents. You get an error
  message listing the agents it fails to contact. This includes every
  Node Agent, but also Agents that have working CSMART servlets.
  See bug # 1241
- Known issue: Copying an Agent Insertion Recipe causes NPE. See bug # 1240
- Known issue: If you hit "Connect" in the GLS Init Window in the console
  too early, the servlet will not update after you publish the OPLAN. To
  get around this, wait until the society has quiesced before hitting the
  Connect button. If you have already done so, use the stand-alone
  GLS UI in CIP/bin/GLSInit.[bat/sh]  See bug# 1215
- Known issue: Experiment and recipe export scripts may no longer work. 
  As a workaround, try using the complete DB export scripts in
  csmart/data/database/scripts/mysql/dump_1ad_mysql.sh  See bug # 1231 (and 1229)

Release 9.0:
- The CSMART required Cougaar 3rd party jar file: grappa1_2_bbn.jar has been changed 
  to grappa1_2.jar. The BBN modifications in the prior jar are now included in the 
  standard Grappa jar.
- Repackage and code cleanup for readability
- Use Servlets instead of PSPs. You must now explicitly add
a PSP to your society, including adding the PlanServerPlugin, if you
really want to run a PSP.
- Remove use of ConfigurationWriter in talking to the AppServer
- New ServletGroupInsertion recipe for inserting sets of servlets
- Default inclusion of basic servlets with built-in experiments
- Use new Cougaar Logging Service
- New Servlet based GLS / Oplan UI within console
- Updated build script to Ant1.4.1
- New File menu items for easy access
- Basic version information written to log file, available from Help menu
- Disabled built-in societies, pending full database support
- Due to above, experiments with multiple trials are temporarily
disabled
- Results (metrics & log files) directory now defaults to CIP/results,
and is set from a global file menu, not on a per-experiment basis

Release v8.8.0
This release represents all of the fixes made during integration on
the 8.6.2 release

Release v8.6.2, Cougaar v8.6.2:
A patch release, with multiple usability improvements. Emphasis
is on supporting much larger societies, the 1AD society in particular,
running off of MySQL databases.
- Upgrade DB to use 1AD society

- Metrics and Impacts merged into general purpose concept: Recipes.
Use Recipes to define steps to take to modify an experiment. Recipes
typically add a plugin, binder, or agent to one or more spots in a 
society.

- MySQL Thread selection now supported

- Class 9 Threads now work

- Store hosts, nodes with experiment. Permit deleting hosts from experiment

- Save all host, node attributes in database

- Support setting non -D arguments, global -D arguments on Nodes (with
  defaults provided), showing these in Node info screen on console, and possibly 
  loading a set of values from a file

- Support a delay between Node launches, default to 0

- Sort hosts, nodes, and support find operations

- Allow user to force edit of a previously run experiment, or recipe

- Better support for data validation in Config Builder

- Add ability to individually kill & restart Nodes

- Support plan view filtering by agent

- Add tab in ExperimentBuilder to show selected threads & groups

- New debug function to write out old style configuration files

- Simple database export and manipulation scripts added


Release v8.6.0, Cougaar v8.6.0:
CSMART is now the preferred means for running large Cougaar
societies. Beginning with this release, CSMART version numbers track
Cougaar version numbers. See the new more complete installation instructions.

- Added support for configuring and running societies from a
  configuration database.

- Added a configuration database which defines several complex Cougaar
societies.

- Fixed Impacts so that all parameters are controlled from the
configurable component.

- Added more metrics to Basic Metric

- Added ability to search / monitor Node console output streams

- Added complex find function in Society Monitor Plan View

Release v0.4.1, Cougaar v8.4.1:
- Numerous bug fixes

- Add support for displaying LocationSchedule information in Agent view

- Initial support for format-independent initialization data generation:
preparing to convert to a purely database-driving society
configuration.

- Agent view uses arrows between agents to indicate relationships.

- Separate impacts and metrics into separate components that are
separately added to societies.

- Support search in Node STDOUT panes in console, including ctrl-s
(search) and ctrl-t (find again) support

- Limited support for experiments whose parameters vary the number of
agents - new unassigned agents are assigned arbitrarily to existing
Nodes.

- Complete support for ABC impacts on message transport


Release v0.4, Cougaar v8.4:
- This release adds support for experiments with multiple trials. Set
a property to <empty> in the ConfigurationBuilder, and you can vary it
in the ExperimentBuilder. See the online help for details.

- The Community View now works in the Society Monitor. However, it is
only interesting for societies the include the CommunityPG on their
Entities (like the ABC Society).

- This release also includes preliminary support for configuring
  arbitrary Cougaar components, and mixing and matching components
  among societies.
  
- This release includes multiple bug fixes and smaller enhancements.

- Beginning with this release, CSMART is included with the standard
  Cougaar release, and no longer as a separate module.
  
- The CSMART required jar file: grappa1_2.jar has been
  replaced. Instead, use the Cougaar 3rd party jar file:
  grappa1_2_bbn.jar

- Old & new CSMART users should see the CSMART-Install document for
  new, simplified installation instructions.
