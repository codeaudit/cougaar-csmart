--
--ER/Studio 4.2 SQL Code Generation
-- Company :      BBNT
-- Project :      asb.DM1
-- Author :       Rusty Bobrow
--
-- Date Created : Wednesday, September 26, 2001 16:50:34
-- Target DBMS : Oracle 8
--


-- 
-- TABLE: V3_ASB_AGENT_PG_ATTR 
--

CREATE TABLE V3_ASB_AGENT_PG_ATTR(
    ASSEMBLY_ID            VARCHAR2(50)     NOT NULL,
    COMPONENT_ID           VARCHAR2(150)    NOT NULL,
    PG_ATTRIBUTE_LIB_ID    VARCHAR2(100)    NOT NULL,
    ATTRIBUTE_VALUE        VARCHAR2(50)     NOT NULL,
    ATTRIBUTE_ORDER        NUMBER           NOT NULL,
    START_DATE             DATE             NOT NULL,
    END_DATE               DATE,
    CONSTRAINT PK_V3_ASB_AGENT_PG_ATTR PRIMARY KEY (ASSEMBLY_ID,COMPONENT_ID,PG_ATTRIBUTE_LIB_ID,ATTRIBUTE_VALUE,ATTRIBUTE_ORDER,START_DATE)
) 
;


-- 
-- TABLE: V3_ASB_AGENT_RELATION 
--

CREATE TABLE V3_ASB_AGENT_RELATION(
    ASSEMBLY_ID                VARCHAR2(50)    NOT NULL,
    ROLE                       VARCHAR2(50)    NOT NULL,
    SUPPORTING_COMPONENT_ID    VARCHAR2(50)    NOT NULL,
    SUPPORTED_COMPONENT_ID     VARCHAR2(50)    NOT NULL,
    START_DATE                 DATE            NOT NULL,
    END_DATE                   DATE,
    CONSTRAINT PK_V3_ASB_AGENT_RELATION PRIMARY KEY (ASSEMBLY_ID,ROLE,SUPPORTING_COMPONENT_ID,SUPPORTED_COMPONENT_ID,START_DATE)
) 
;


-- 
-- TABLE: V3_ASB_ALPLOC 
--

CREATE TABLE V3_ASB_ALPLOC(
    ASSEMBLY_ID               VARCHAR2(50)    NOT NULL,
    ALPLOC_CODE               VARCHAR2(50)    NOT NULL,
    LOCATION_NAME             VARCHAR2(50),
    LATITUDE                  NUMBER,
    LONGITUDE                 NUMBER,
    INSTALLATION_TYPE_CODE    CHAR(3),
    CONSTRAINT PK_V3_ASB_ALPLOC PRIMARY KEY (ASSEMBLY_ID,ALPLOC_CODE)
) 
;


-- 
-- TABLE: V3_ASB_ASSEMBLY 
--

CREATE TABLE V3_ASB_ASSEMBLY(
    ASSEMBLY_ID      VARCHAR2(50)     NOT NULL,
    ASSEMBLY_TYPE    VARCHAR2(50),
    DESCRIPTION      VARCHAR2(200),
    CONSTRAINT PK_V3_ASB_ASSEMBLY PRIMARY KEY (ASSEMBLY_ID)
) 
;


-- 
-- TABLE: V3_ASB_COMPONENT 
--

CREATE TABLE V3_ASB_COMPONENT(
    COMPONENT_ID           VARCHAR2(150)    NOT NULL,
    COMPONENT_LIB_ID       VARCHAR2(150)    NOT NULL,
    ASSEMBLY_ID            VARCHAR2(50),
    COMPONENT_NAME         VARCHAR2(100),
    PARENT_COMPONENT_ID    VARCHAR2(100),
    COMPONENT_CATEGORY     VARCHAR2(50),
    INSERTION_ORDER        VARCHAR2(50),
    CONSTRAINT PK_V3_ASB_COMPONENT PRIMARY KEY (COMPONENT_ID)
) 
;


-- 
-- TABLE: V3_ASB_COMPONENT_ARG 
--

CREATE TABLE V3_ASB_COMPONENT_ARG(
    ASSEMBLY_ID       VARCHAR2(50)     NOT NULL,
    COMPONENT_ID      VARCHAR2(150)    NOT NULL,
    ARGUMENT          VARCHAR2(100)    NOT NULL,
    ARGUMENT_ORDER    NUMBER           NOT NULL,
    CONSTRAINT PK_V3_ASB_COMPONENT_ARG PRIMARY KEY (ASSEMBLY_ID,COMPONENT_ID,ARGUMENT,ARGUMENT_ORDER)
) 
;


-- 
-- TABLE: V3_ASB_COMPONENT_NODE 
--

CREATE TABLE V3_ASB_COMPONENT_NODE(
    ASSEMBLY_ID     VARCHAR2(50)     NOT NULL,
    COMPONENT_ID    VARCHAR2(150)    NOT NULL,
    NODE_ID         VARCHAR2(50),
    CONSTRAINT PK_V3_ASB_COMPONENT_NODE PRIMARY KEY (ASSEMBLY_ID,COMPONENT_ID)
) 
;


-- 
-- TABLE: V3_ASB_MACHINE 
--

CREATE TABLE V3_ASB_MACHINE(
    ASSEMBLY_ID       VARCHAR2(50)    NOT NULL,
    MACHINE_LIB_ID    VARCHAR2(50)    NOT NULL,
    CONSTRAINT PK22 PRIMARY KEY (ASSEMBLY_ID,MACHINE_LIB_ID)
) 
;


-- 
-- TABLE: V3_ASB_NODE 
--

CREATE TABLE V3_ASB_NODE(
    ASSEMBLY_ID    VARCHAR2(50)     NOT NULL,
    NODE_ID        VARCHAR2(50)     NOT NULL,
    NODE_NAME      VARCHAR2(50),
    DESCRIPTION    VARCHAR2(100),
    CONSTRAINT PK_V3_ASB_NODE PRIMARY KEY (ASSEMBLY_ID,NODE_ID)
) 
;


-- 
-- TABLE: V3_ASB_NODE_MACHINE 
--

CREATE TABLE V3_ASB_NODE_MACHINE(
    ASSEMBLY_ID       VARCHAR2(50)    NOT NULL,
    NODE_ID           VARCHAR2(50)    NOT NULL,
    MACHINE_LIB_ID    VARCHAR2(50)    NOT NULL,
    CONSTRAINT PK_V3_ASB_NODE_MACHINE PRIMARY KEY (ASSEMBLY_ID,NODE_ID,MACHINE_LIB_ID)
) 
;


-- 
-- TABLE: V3_ASB_OPLAN 
--

CREATE TABLE V3_ASB_OPLAN(
    ASSEMBLY_ID       VARCHAR2(50)    NOT NULL,
    OPLAN_ID          VARCHAR2(50)    NOT NULL,
    OPERATION_NAME    VARCHAR2(50),
    PRIORITY          VARCHAR2(50),
    C0_DATE           DATE,
    CONSTRAINT PK_V3_ASB_OPLAN PRIMARY KEY (ASSEMBLY_ID,OPLAN_ID)
) 
;


-- 
-- TABLE: V3_ASB_OPLAN_AGENT_ATTR 
--

CREATE TABLE V3_ASB_OPLAN_AGENT_ATTR(
    ASSEMBLY_ID        VARCHAR2(50)     NOT NULL,
    OPLAN_ID           VARCHAR2(50)     NOT NULL,
    COMPONENT_ID       VARCHAR2(150)    NOT NULL,
    START_CDAY         NUMBER           NOT NULL,
    ATTRIBUTE_NAME     VARCHAR2(50)     NOT NULL,
    END_CDAY           NUMBER,
    ATTRIBUTE_VALUE    VARCHAR2(50),
    CONSTRAINT PK_V3_ASB_OPLAN_AGENT_ATTR PRIMARY KEY (ASSEMBLY_ID,OPLAN_ID,COMPONENT_ID,START_CDAY,ATTRIBUTE_NAME)
) 
;


-- 
-- TABLE: V3_EXPT_EXPERIMENT 
--

CREATE TABLE V3_EXPT_EXPERIMENT(
    EXPT_ID        VARCHAR2(50)     NOT NULL,
    DESCRIPTION    VARCHAR2(200),
    CONSTRAINT PK_V3_EXPT_EXPERIMENT PRIMARY KEY (EXPT_ID)
) 
;


-- 
-- TABLE: V3_EXPT_TRIAL 
--

CREATE TABLE V3_EXPT_TRIAL(
    EXPT_ID        VARCHAR2(50)     NOT NULL,
    TRIAL_ID       VARCHAR2(50)     NOT NULL,
    DESCRIPTION    VARCHAR2(100),
    CONSTRAINT PK23 PRIMARY KEY (EXPT_ID,TRIAL_ID)
) 
;


-- 
-- TABLE: V3_EXPT_TRIAL_ASSEMBLY 
--

CREATE TABLE V3_EXPT_TRIAL_ASSEMBLY(
    EXPT_ID        VARCHAR2(50)     NOT NULL,
    TRIAL_ID       VARCHAR2(50)     NOT NULL,
    ASSEMBLY_ID    VARCHAR2(50)     NOT NULL,
    DESCRIPTION    VARCHAR2(200),
    CONSTRAINT PK_V3_EXPT_ASSEMBLY PRIMARY KEY (EXPT_ID,TRIAL_ID,ASSEMBLY_ID)
) 
;


-- 
-- TABLE: V3_LIB_ACTIVITY_TYPE_REF 
--

CREATE TABLE V3_LIB_ACTIVITY_TYPE_REF(
    ACTIVITY_TYPE    VARCHAR2(50)    NOT NULL,
    DESCRIPTION      VARCHAR2(50),
    CONSTRAINT PK_V3_LIB_ACTIVITY_TYPE_REF PRIMARY KEY (ACTIVITY_TYPE)
) 
;


-- 
-- TABLE: V3_LIB_AGENT_ORG 
--

CREATE TABLE V3_LIB_AGENT_ORG(
    COMPONENT_LIB_ID       VARCHAR2(150)    NOT NULL,
    AGENT_LIB_NAME         VARCHAR2(50),
    AGENT_ORG_PROTOTYPE    VARCHAR2(50),
    CONSTRAINT PK_V3_LIB_AGENT_ORG PRIMARY KEY (COMPONENT_LIB_ID)
) 
;


-- 
-- TABLE: V3_LIB_COMPONENT 
--

CREATE TABLE V3_LIB_COMPONENT(
    COMPONENT_LIB_ID    VARCHAR2(150)    NOT NULL,
    COMPONENT_TYPE      VARCHAR2(50),
    COMPONENT_CLASS     VARCHAR2(100),
    INSERTION_POINT     VARCHAR2(50),
    DESCRIPTION         VARCHAR2(100),
    CONSTRAINT PK_V3_LIB_COMPONENT PRIMARY KEY (COMPONENT_LIB_ID)
) 
;


-- 
-- TABLE: V3_LIB_COMPONENT_ARG 
--

CREATE TABLE V3_LIB_COMPONENT_ARG(
    COMPONENT_LIB_ID    VARCHAR2(150)    NOT NULL,
    ARGUMENT            VARCHAR2(100)    NOT NULL,
    CONSTRAINT PK_V3_LIB_COMPONENT_ARG PRIMARY KEY (COMPONENT_LIB_ID,ARGUMENT)
) 
;


-- 
-- TABLE: V3_LIB_MACHINE 
--

CREATE TABLE V3_LIB_MACHINE(
    MACHINE_LIB_ID      VARCHAR2(50)     NOT NULL,
    MACHINE_NAME        VARCHAR2(50),
    IP_ADDRESS          VARCHAR2(50),
    OPERATING_SYSTEM    VARCHAR2(50),
    DESCRIPTION         VARCHAR2(100),
    CONSTRAINT PK_V3_ASB_MACHINE PRIMARY KEY (MACHINE_LIB_ID)
) 
;


-- 
-- TABLE: V3_LIB_OPLAN_AGENT_ATTR_REF 
--

CREATE TABLE V3_LIB_OPLAN_AGENT_ATTR_REF(
    ATTRIBUTE_NAME    VARCHAR2(50)    NOT NULL,
    DESCRIPTION       VARCHAR2(50),
    CONSTRAINT PK_V3_LIB_OPLAN_AGENT_ATTR_REF PRIMARY KEY (ATTRIBUTE_NAME)
) 
;


-- 
-- TABLE: V3_LIB_OPTEMPO_REF 
--

CREATE TABLE V3_LIB_OPTEMPO_REF(
    OPTEMPO        VARCHAR2(50)    NOT NULL,
    DESCRIPTION    VARCHAR2(50),
    CONSTRAINT PK_V3_LIB_OPTEMPO_REF PRIMARY KEY (OPTEMPO)
) 
;


-- 
-- TABLE: V3_LIB_PG_ATTRIBUTE 
--

CREATE TABLE V3_LIB_PG_ATTRIBUTE(
    PG_ATTRIBUTE_LIB_ID    VARCHAR2(100)    NOT NULL,
    PG_NAME                VARCHAR2(50),
    ATTRIBUTE_NAME         VARCHAR2(50),
    ATTRIBUTE_TYPE         VARCHAR2(50),
    AGGREGATE_TYPE         VARCHAR2(50),
    CONSTRAINT PK_V3_LIB_PG_ATTRIBUTE PRIMARY KEY (PG_ATTRIBUTE_LIB_ID)
) 
;


-- 
-- INDEX: Ref512 
--

CREATE INDEX Ref512 ON V3_ASB_AGENT_PG_ATTR(COMPONENT_ID)
;
-- 
-- INDEX: Ref2117 
--

CREATE INDEX Ref2117 ON V3_ASB_AGENT_PG_ATTR(PG_ATTRIBUTE_LIB_ID)
;
-- 
-- INDEX: Ref44 
--

CREATE INDEX Ref44 ON V3_ASB_AGENT_RELATION(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref418 
--

CREATE INDEX Ref418 ON V3_ASB_ALPLOC(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref46 
--

CREATE INDEX Ref46 ON V3_ASB_COMPONENT(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref1713 
--

CREATE INDEX Ref1713 ON V3_ASB_COMPONENT(COMPONENT_LIB_ID)
;
-- 
-- INDEX: Ref511 
--

CREATE INDEX Ref511 ON V3_ASB_COMPONENT_ARG(COMPONENT_ID)
;
-- 
-- INDEX: Ref41 
--

CREATE INDEX Ref41 ON V3_ASB_COMPONENT_NODE(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref55 
--

CREATE INDEX Ref55 ON V3_ASB_COMPONENT_NODE(COMPONENT_ID)
;
-- 
-- INDEX: Ref99 
--

CREATE INDEX Ref99 ON V3_ASB_COMPONENT_NODE(NODE_ID,ASSEMBLY_ID)
;
-- 
-- INDEX: Ref823 
--

CREATE INDEX Ref823 ON V3_ASB_MACHINE(MACHINE_LIB_ID)
;
-- 
-- INDEX: Ref424 
--

CREATE INDEX Ref424 ON V3_ASB_MACHINE(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref87 
--

CREATE INDEX Ref87 ON V3_ASB_NODE_MACHINE(MACHINE_LIB_ID)
;
-- 
-- INDEX: Ref98 
--

CREATE INDEX Ref98 ON V3_ASB_NODE_MACHINE(NODE_ID,ASSEMBLY_ID)
;
-- 
-- INDEX: Ref419 
--

CREATE INDEX Ref419 ON V3_ASB_OPLAN(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref1120 
--

CREATE INDEX Ref1120 ON V3_ASB_OPLAN_AGENT_ATTR(ASSEMBLY_ID,OPLAN_ID)
;
-- 
-- INDEX: Ref521 
--

CREATE INDEX Ref521 ON V3_ASB_OPLAN_AGENT_ATTR(COMPONENT_ID)
;
-- 
-- INDEX: Ref1922 
--

CREATE INDEX Ref1922 ON V3_ASB_OPLAN_AGENT_ATTR(ATTRIBUTE_NAME)
;
-- 
-- INDEX: Ref1426 
--

CREATE INDEX Ref1426 ON V3_EXPT_TRIAL(EXPT_ID)
;
-- 
-- INDEX: Ref2327 
--

CREATE INDEX Ref2327 ON V3_EXPT_TRIAL_ASSEMBLY(EXPT_ID,TRIAL_ID)
;
-- 
-- INDEX: Ref42 
--

CREATE INDEX Ref42 ON V3_EXPT_TRIAL_ASSEMBLY(ASSEMBLY_ID)
;
-- 
-- INDEX: Ref1715 
--

CREATE INDEX Ref1715 ON V3_LIB_AGENT_ORG(COMPONENT_LIB_ID)
;
-- 
-- INDEX: Ref1714 
--

CREATE INDEX Ref1714 ON V3_LIB_COMPONENT_ARG(COMPONENT_LIB_ID)
;
-- 
-- TABLE: V3_ASB_AGENT_PG_ATTR 
--

ALTER TABLE V3_ASB_AGENT_PG_ATTR ADD CONSTRAINT RefV3_ASB_COMPONENT12 
    FOREIGN KEY (COMPONENT_ID)
    REFERENCES V3_ASB_COMPONENT(COMPONENT_ID)
;

ALTER TABLE V3_ASB_AGENT_PG_ATTR ADD CONSTRAINT RefV3_LIB_PG_ATTRIBUTE17 
    FOREIGN KEY (PG_ATTRIBUTE_LIB_ID)
    REFERENCES V3_LIB_PG_ATTRIBUTE(PG_ATTRIBUTE_LIB_ID)
;


-- 
-- TABLE: V3_ASB_AGENT_RELATION 
--

ALTER TABLE V3_ASB_AGENT_RELATION ADD CONSTRAINT RefV3_ASB_ASSEMBLY4 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;


-- 
-- TABLE: V3_ASB_ALPLOC 
--

ALTER TABLE V3_ASB_ALPLOC ADD CONSTRAINT RefV3_ASB_ASSEMBLY18 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;


-- 
-- TABLE: V3_ASB_COMPONENT 
--

ALTER TABLE V3_ASB_COMPONENT ADD CONSTRAINT RefV3_ASB_ASSEMBLY6 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;

ALTER TABLE V3_ASB_COMPONENT ADD CONSTRAINT RefV3_LIB_COMPONENT13 
    FOREIGN KEY (COMPONENT_LIB_ID)
    REFERENCES V3_LIB_COMPONENT(COMPONENT_LIB_ID)
;


-- 
-- TABLE: V3_ASB_COMPONENT_ARG 
--

ALTER TABLE V3_ASB_COMPONENT_ARG ADD CONSTRAINT RefV3_ASB_COMPONENT11 
    FOREIGN KEY (COMPONENT_ID)
    REFERENCES V3_ASB_COMPONENT(COMPONENT_ID)
;


-- 
-- TABLE: V3_ASB_COMPONENT_NODE 
--

ALTER TABLE V3_ASB_COMPONENT_NODE ADD CONSTRAINT RefV3_ASB_ASSEMBLY1 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;

ALTER TABLE V3_ASB_COMPONENT_NODE ADD CONSTRAINT RefV3_ASB_COMPONENT5 
    FOREIGN KEY (COMPONENT_ID)
    REFERENCES V3_ASB_COMPONENT(COMPONENT_ID)
;

ALTER TABLE V3_ASB_COMPONENT_NODE ADD CONSTRAINT RefV3_ASB_NODE9 
    FOREIGN KEY (ASSEMBLY_ID,NODE_ID)
    REFERENCES V3_ASB_NODE(ASSEMBLY_ID,NODE_ID)
;


-- 
-- TABLE: V3_ASB_MACHINE 
--

ALTER TABLE V3_ASB_MACHINE ADD CONSTRAINT RefV3_LIB_MACHINE23 
    FOREIGN KEY (MACHINE_LIB_ID)
    REFERENCES V3_LIB_MACHINE(MACHINE_LIB_ID)
;

ALTER TABLE V3_ASB_MACHINE ADD CONSTRAINT RefV3_ASB_ASSEMBLY24 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;


-- 
-- TABLE: V3_ASB_NODE_MACHINE 
--

ALTER TABLE V3_ASB_NODE_MACHINE ADD CONSTRAINT RefV3_LIB_MACHINE7 
    FOREIGN KEY (MACHINE_LIB_ID)
    REFERENCES V3_LIB_MACHINE(MACHINE_LIB_ID)
;

ALTER TABLE V3_ASB_NODE_MACHINE ADD CONSTRAINT RefV3_ASB_NODE8 
    FOREIGN KEY (ASSEMBLY_ID,NODE_ID)
    REFERENCES V3_ASB_NODE(ASSEMBLY_ID,NODE_ID)
;


-- 
-- TABLE: V3_ASB_OPLAN 
--

ALTER TABLE V3_ASB_OPLAN ADD CONSTRAINT RefV3_ASB_ASSEMBLY19 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;


-- 
-- TABLE: V3_ASB_OPLAN_AGENT_ATTR 
--

ALTER TABLE V3_ASB_OPLAN_AGENT_ATTR ADD CONSTRAINT RefV3_ASB_OPLAN20 
    FOREIGN KEY (ASSEMBLY_ID,OPLAN_ID)
    REFERENCES V3_ASB_OPLAN(ASSEMBLY_ID,OPLAN_ID)
;

ALTER TABLE V3_ASB_OPLAN_AGENT_ATTR ADD CONSTRAINT RefV3_ASB_COMPONENT21 
    FOREIGN KEY (COMPONENT_ID)
    REFERENCES V3_ASB_COMPONENT(COMPONENT_ID)
;

ALTER TABLE V3_ASB_OPLAN_AGENT_ATTR ADD CONSTRAINT RefV3_LIB_OPLAN_AGENT_ATTR_R22 
    FOREIGN KEY (ATTRIBUTE_NAME)
    REFERENCES V3_LIB_OPLAN_AGENT_ATTR_REF(ATTRIBUTE_NAME)
;


-- 
-- TABLE: V3_EXPT_TRIAL 
--

ALTER TABLE V3_EXPT_TRIAL ADD CONSTRAINT RefV3_EXPT_EXPERIMENT26 
    FOREIGN KEY (EXPT_ID)
    REFERENCES V3_EXPT_EXPERIMENT(EXPT_ID)
;


-- 
-- TABLE: V3_EXPT_TRIAL_ASSEMBLY 
--

ALTER TABLE V3_EXPT_TRIAL_ASSEMBLY ADD CONSTRAINT RefV3_ASB_ASSEMBLY2 
    FOREIGN KEY (ASSEMBLY_ID)
    REFERENCES V3_ASB_ASSEMBLY(ASSEMBLY_ID)
;

ALTER TABLE V3_EXPT_TRIAL_ASSEMBLY ADD CONSTRAINT RefV3_EXPT_TRIAL27 
    FOREIGN KEY (EXPT_ID,TRIAL_ID)
    REFERENCES V3_EXPT_TRIAL(EXPT_ID,TRIAL_ID)
;


-- 
-- TABLE: V3_LIB_AGENT_ORG 
--

ALTER TABLE V3_LIB_AGENT_ORG ADD CONSTRAINT RefV3_LIB_COMPONENT15 
    FOREIGN KEY (COMPONENT_LIB_ID)
    REFERENCES V3_LIB_COMPONENT(COMPONENT_LIB_ID)
;


-- 
-- TABLE: V3_LIB_COMPONENT_ARG 
--

ALTER TABLE V3_LIB_COMPONENT_ARG ADD CONSTRAINT RefV3_LIB_COMPONENT14 
    FOREIGN KEY (COMPONENT_LIB_ID)
    REFERENCES V3_LIB_COMPONENT(COMPONENT_LIB_ID)
;


